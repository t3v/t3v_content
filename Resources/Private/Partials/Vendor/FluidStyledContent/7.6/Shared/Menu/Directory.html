<html xmlns:ce="http://typo3.org/ns/TYPO3/CMS/FluidStyledContent/ViewHelpers" xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:t3v="http://typo3.org/ns/T3v/T3vDataMapper/ViewHelpers" data-namespace-typo3-fluid="true">
  <ce:menu.directory pageUids="{pageUids}" as="pages" levelAs="level">
    <f:if condition="{pages}">
      <ul>
        <f:for each="{pages}" as="page">
          <t3v:page.visible uid="{page.uid}">
            <li>
              <f:link.page pageUid="{page.uid}">
                <f:if condition="{page.nav_title}">
                  <f:then>{page.nav_title}</f:then>

                  <f:else>{page.title}</f:else>
                </f:if>
              </f:link.page>

              <f:render partial="Shared/Menu/Directory" arguments="{pageUids: {0: page.uid}}" />
            </li>
          </t3v:page.visible>
        </f:for>
      </ul>
    </f:if>
  </ce:menu.directory>
</html>
